# ============================================================
# Sesame Trading Arm — Configuration
# ============================================================

# Core
PORT=8787
NODE_ENV=development

# Persistence
DATA_DIR=./data
STATE_FILE=./data/state.json
LOG_FILE=./data/events.ndjson

# Worker
WORKER_INTERVAL_MS=1500
WORKER_MAX_BATCH_SIZE=10

# Modes
DEFAULT_MODE=paper
LIVE_TRADING_ENABLED=false
LIVE_BROADCAST_ENABLED=false

# Solana/Jupiter (for optional live mode)
SOLANA_RPC_URL=
SOLANA_PRIVATE_KEY_B58=
JUPITER_QUOTE_URL=https://lite-api.jup.ag/swap/v1/quote
JUPITER_SWAP_URL=https://lite-api.jup.ag/swap/v1/swap
JUPITER_REFERRAL_ACCOUNT=
JUPITER_PLATFORM_FEE_BPS=8
PLATFORM_FEE_BPS=8
SUPPORTED_SYMBOLS=SOL,USDC,BONK,JUP
QUOTE_RETRY_ATTEMPTS=3
QUOTE_RETRY_BASE_DELAY_MS=150
MARKET_HISTORY_LIMIT=100

# Optional mint overrides
MINT_SOL=So11111111111111111111111111111111111111112
MINT_USDC=EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v
MINT_BONK=DezXAZ8z7PnrnRJjz3wXBoRgixCa6Y7YaB1pPB263
MINT_JUP=JUPyiwrYJFskUPiHa7hkeR8VUtAeFoSYbKedZNsDvCN

# Risk defaults
DEFAULT_STARTING_CAPITAL_USD=10000
RISK_MAX_POSITION_SIZE_PCT=0.25
RISK_MAX_ORDER_NOTIONAL_USD=2500
RISK_MAX_GROSS_EXPOSURE_USD=7500
RISK_DAILY_LOSS_CAP_USD=1000
RISK_MAX_DRAWDOWN_PCT=0.20
RISK_COOLDOWN_SECONDS=3

# Autonomous trading loop
AUTONOMOUS_ENABLED=false
AUTONOMOUS_INTERVAL_MS=30000
AUTONOMOUS_MAX_DRAWDOWN_STOP_PCT=12
AUTONOMOUS_COOLDOWN_MS=120000
AUTONOMOUS_COOLDOWN_AFTER_FAILURES=2
AUTONOMOUS_DEFAULT_NOTIONAL_USD=100
AUTONOMOUS_MIN_CONFIDENCE=0.15

# x402 payment gate stub
X402_ENABLED=false
X402_REQUIRED_PATHS=/trade-intents
X402_VERIFIER_URL=
X402_POLICY_FILE=./config/x402-policy.json

# Clawpump token revenue integration
CLAWPUMP_BASE_URL=https://www.clawpump.tech
CLAWPUMP_API_KEY=
CLAWPUMP_HEALTH_PATH=/api/health
CLAWPUMP_LAUNCH_PATH=/api/agents/launch
CLAWPUMP_EARNINGS_PATH=/api/agents/earnings
CLAWPUMP_TIMEOUT_MS=12000
CLAWPUMP_MAX_IMAGE_BYTES=2000000
CLAWPUMP_LAUNCH_HISTORY_LIMIT=200
CLAWPUMP_WALLET_ADDRESS=

# ============================================================
# SNIPE — Direct meme coin trading via Jupiter
# ============================================================
SNIPE_PRICE_POLL_MS=10000

# Auto-import: scan wallet for manual positions and adopt them (default every 2 min)
SNIPE_AUTO_IMPORT_INTERVAL_MS=120000
# Comma-separated mints to never auto-import (default: wrapped SOL, USDC)
# SNIPE_AUTO_IMPORT_BLOCKLIST_MINTS=So111...,EPjFWdd...

# Exit strategy defaults
SNIPE_TAKE_PROFIT_PCT=30
SNIPE_STOP_LOSS_PCT=15
SNIPE_TRAILING_STOP_PCT=20

# Moon bag: keep X% of tokens on take-profit
SNIPE_MOON_BAG_PCT=20

# Re-entry: auto dip-buy after TP
# Minimum market cap (USD) to keep or open a position. Below this, positions are force-closed.
SNIPE_MIN_MCAP_USD=5000

SNIPE_RE_ENTRY_ENABLED=true
SNIPE_RE_ENTRY_DIP_PCT=25
SNIPE_RE_ENTRY_AMOUNT_SOL=0.01
SNIPE_MAX_RE_ENTRIES=2

# ============================================================
# LORE — Featured token signals (webhook)
# ============================================================
# HMAC secret from LORE subscriber (required to accept webhooks)
# LORE_WEBHOOK_SECRET=whsec_...
# Optional: auto open snipe on token_featured/moved/reentry
# LORE_AUTO_TRADE_ENABLED=false
# LORE_AUTO_TRADE_BOX_TYPES=Fastest,Gamble
# LORE_AUTO_TRADE_AMOUNT_SOL=0.02
LORE_WEBHOOK_SECRET=whsec_99a223972cdc568f7801ec969463dc32013db671d7a3a938f1ded8d7733a1dfc